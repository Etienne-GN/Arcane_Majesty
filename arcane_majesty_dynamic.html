<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arcane Majesty - Universe Explorer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #0a0a0a, #1a1a2e, #16213e);
            color: #e8e8e8;
            font-family: 'Arial', sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #fff;
            border-radius: 50%;
            animation: twinkle 3s infinite ease-in-out;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 60px 0;
            position: relative;
        }

        h1 {
            font-size: 4rem;
            background: linear-gradient(45deg, #ffd700, #ffb347, #ff6b6b, #9b59b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.3)); }
            to { filter: drop-shadow(0 0 30px rgba(255, 215, 0, 0.6)); }
        }

        .subtitle {
            font-size: 1.4rem;
            color: #b8b8b8;
            font-style: italic;
            margin-bottom: 30px;
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .tab-button {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid transparent;
            color: #e8e8e8;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            position: relative;
            overflow: hidden;
        }

        .tab-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.2), transparent);
            transition: left 0.5s;
        }

        .tab-button:hover::before {
            left: 100%;
        }

        .tab-button.active {
            background: linear-gradient(45deg, #ffd700, #ffb347);
            color: #1a1a2e;
            border-color: #ffd700;
            font-weight: bold;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-grid {
            display: grid;
            gap: 30px;
            margin-bottom: 40px;
        }

        .albums-grid {
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
        }

        .characters-grid {
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
        }

        .locations-grid {
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        }

        .artifacts-grid {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }

        .card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #ffd700, #ffb347, #ff6b6b, #9b59b6);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 40px rgba(255, 215, 0, 0.3);
            border-color: rgba(255, 215, 0, 0.4);
        }

        .card:hover::before {
            transform: scaleX(1);
        }

        .album-header {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
        }

        .album-cover {
            width: 90px;
            height: 90px;
            background: linear-gradient(45deg, #ffd700, #ffb347);
            border-radius: 15px;
            margin-right: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: #1a1a2e;
            font-weight: bold;
            box-shadow: 0 8px 20px rgba(255, 215, 0, 0.3);
        }

        .card-title {
            color: #ffd700;
            font-size: 1.8rem;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .card-subtitle {
            color: #b8b8b8;
            font-size: 1rem;
            margin-bottom: 20px;
        }

        .acts-list {
            margin-top: 20px;
        }

        .act-item {
            background: rgba(255, 255, 255, 0.08);
            margin-bottom: 15px;
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .act-header {
            padding: 18px;
            cursor: pointer;
            display: flex;
            justify-content: between;
            align-items: center;
            background: rgba(0, 0, 0, 0.2);
        }

        .act-title {
            color: #ffb347;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .songs-container {
            display: none;
            padding: 0 18px 18px;
        }

        .songs-container.active {
            display: block;
            animation: slideDown 0.4s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                max-height: 0;
            }
            to {
                opacity: 1;
                max-height: 500px;
            }
        }

        .song-item {
            background: rgba(255, 255, 255, 0.05);
            margin: 10px 0;
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .song-header {
            padding: 15px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .song-title {
            color: #e8e8e8;
            font-weight: 500;
        }

        .song-id {
            color: #ffd700;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .song-details {
            display: none;
            padding: 0 15px 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .song-details.active {
            display: block;
            animation: expandDetails 0.3s ease;
        }

        @keyframes expandDetails {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .detail-section {
            margin: 15px 0;
        }

        .detail-title {
            color: #ffd700;
            font-size: 1.1rem;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            font-weight: 600;
        }

        .detail-title::before {
            margin-right: 8px;
            font-size: 1.2rem;
        }

        .tone-title::before { content: '🎭'; }
        .plot-title::before { content: '📚'; }
        .lyrics-title::before { content: '🎵'; }

        .detail-content {
            background: rgba(0, 0, 0, 0.4);
            padding: 16px;
            border-radius: 10px;
            line-height: 1.7;
            white-space: pre-line;
            border-left: 4px solid #ffd700;
        }

        .character-info, .location-info, .artifact-info {
            margin-top: 15px;
        }

        .info-item {
            margin-bottom: 12px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border-left: 3px solid #ffb347;
        }

        .info-label {
            color: #ffd700;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .info-content {
            color: #e8e8e8;
            line-height: 1.6;
        }

        .loading {
            text-align: center;
            color: #ffd700;
            font-size: 1.4rem;
            margin: 80px 0;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }

        .error {
            text-align: center;
            color: #ff6b6b;
            padding: 30px;
            background: rgba(255, 107, 107, 0.1);
            border-radius: 15px;
            margin: 30px 0;
            border: 1px solid rgba(255, 107, 107, 0.3);
        }

        .child-locations {
            margin-top: 15px;
            padding-left: 20px;
            border-left: 2px solid rgba(255, 215, 0, 0.3);
        }

        .child-location {
            background: rgba(255, 255, 255, 0.03);
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        @media (max-width: 768px) {
            .section-grid {
                grid-template-columns: 1fr !important;
            }
            
            h1 {
                font-size: 2.5rem;
            }
            
            .album-header {
                flex-direction: column;
                text-align: center;
            }
            
            .album-cover {
                margin-right: 0;
                margin-bottom: 15px;
            }

            .nav-tabs {
                flex-direction: column;
                align-items: center;
            }

            .tab-button {
                width: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="stars" id="stars"></div>
    
    <div class="container">
        <header>
            <h1>Arcane Majesty</h1>
            <p class="subtitle">A multi-dimensional fantasy saga across music, lore, and digital realms</p>
        </header>

        <nav class="nav-tabs">
            <button class="tab-button active" onclick="switchTab('albums')">📚 Albums & Songs</button>
            <button class="tab-button" onclick="switchTab('characters')">⚔️ Characters</button>
            <button class="tab-button" onclick="switchTab('locations')">🏰 Locations</button>
            <button class="tab-button" onclick="switchTab('artifacts')">💎 Artifacts</button>
        </nav>

        <div id="loading" class="loading">
            ✨ Loading the Arcane Universe...
        </div>

        <div id="error" class="error" style="display: none;">
            🔮 Error loading universe data. Please check the XML source.
        </div>

        <div id="albums-tab" class="tab-content active">
            <div id="albums-container" class="section-grid albums-grid">
                <!-- Albums will be dynamically loaded here -->
            </div>
        </div>

        <div id="characters-tab" class="tab-content">
            <div id="characters-container" class="section-grid characters-grid">
                <!-- Characters will be dynamically loaded here -->
            </div>
        </div>

        <div id="locations-tab" class="tab-content">
            <div id="locations-container" class="section-grid locations-grid">
                <!-- Locations will be dynamically loaded here -->
            </div>
        </div>

        <div id="artifacts-tab" class="tab-content">
            <div id="artifacts-container" class="section-grid artifacts-grid">
                <!-- Artifacts will be dynamically loaded here -->
            </div>
        </div>
    </div>

    <script>
        class ArcaneUniverseExplorer {
            constructor() {
                this.xmlData = null;
                this.containers = {
                    albums: document.getElementById('albums-container'),
                    characters: document.getElementById('characters-container'),
                    locations: document.getElementById('locations-container'),
                    artifacts: document.getElementById('artifacts-container')
                };
                this.loadingElement = document.getElementById('loading');
                this.errorElement = document.getElementById('error');
                
                this.initializeStars();
                this.loadUniverseData();
            }

            initializeStars() {
                const starsContainer = document.getElementById('stars');
                for (let i = 0; i < 100; i++) {
                    const star = document.createElement('div');
                    star.className = 'star';
                    star.style.left = Math.random() * 100 + '%';
                    star.style.top = Math.random() * 100 + '%';
                    star.style.animationDelay = Math.random() * 3 + 's';
                    starsContainer.appendChild(star);
                }
            }

            async loadUniverseData() {
                try {
                    // In a real implementation, this would load from an XML file
                    // For this demo, we'll parse the XML data directly
                    const xmlString = `<Universe universe="Arcane Majesty">
                        <albums>
                            <album album="A Tapestry of Souls">
                                <album_id>01</album_id>
                                <Act act="I: The Empire of Shadows">
                                    <Song song="Empire of the Void">
                                        <song_id>01-01</song_id>
                                        <Tone>Mysterious, Intriguing</Tone>
                                        <Plot>Anya, a young and inquisitive scholar from the distant land of Thaloria, finds herself mysteriously transported to the ominous Empire of the Void, a realm steeped in darkness and ruled by the enigmatic Nychtoros, a being that patrols the borders between the night and day. As she navigates this foreboding land, she encounters shadowy landscapes filled with whispers of despair and haunted echoes of lost souls. Anya discovers hidden chambers containing ancient prophecies that foretell the rise of a hero amidst the empire's suffocating oppression. During her journey, she learns about Seraphina, a fierce warrior queen fighting against Nychtoros, whose own tragic losses drive her determination to liberate her people. Anya grapples with her own fears while deciphering the cryptic symbols that hint at her significant role in the unfolding events, igniting a spark of determination within her to uncover the truth about this malevolent empire.</Plot>
                                        <Lyrics>[Verse 1]
In the shadow of the night, where the stars refuse to glow,
A kingdom forged in darkness, where the ancient whispers flow.
Rising from the ashes of a world that once was bright,
A symphony of silence in the everlasting night.

[Pre-Chorus]
Beyond the edge of time and space, where legends dare to dream,
A force beyond imagining, where nothing's what it seems.

[Chorus]
In the Empire of the Void, where shadows reign supreme,
We're bound by chains of destiny, within this dark regime.
A realm where echoes linger, where silence speaks in screams,
In the Empire of the Void, we live within our dreams.

[Verse 2]
Eclipsing suns and galaxies, our power knows no bounds,
Eternal night embraces all, in darkness, we are crowned.
Through cosmic storms and nebulas, our legions march as one,
An empire built on silence, beneath a blackened sun.

[Bridge]
Through the endless dark, we rise, our spirits never fade,
In the heart of nothingness, our legacy is made.
We conquer through the silence, our banners waving high,
In the Empire of the Void, where stars go to die.</Lyrics>
                                    </Song>
                                    <Song song="Eternal Nightfall">
                                        <song_id>01-02</song_id>
                                        <Tone>Dramatic, Adventurous</Tone>
                                        <Plot>In her quest for allies, Anya joins forces with a band of rebels led by the courageous Valen, who share her yearning for freedom and justice. Together, they embark on a treacherous journey through perilous terrains, evading Nychtoros' vigilant forces. As they traverse dark forests and crumbling ruins, they hear whispers of Seraphina's bravery, and the rebels reveal heart-wrenching stories of their loved ones lost to tyranny, each tale strengthening Anya's resolve. When Seraphina eventually crosses paths with Anya and the rebels, her presence ignites a newfound hope within the group. The camaraderie deepens as they strategize ways to confront their shared enemies, igniting a flicker of defiance against the Empire of the Void.</Plot>
                                        <Lyrics></Lyrics>
                                    </Song>
                                </Act>
                            </album>
                        </albums>
                        <Locations>
                            <Location name="Nythoria">
                                <location_id>01</location_id>
                                <Description>A kingdom of perpetual twilight, steeped in dark magic and ruled by Malakar. The land is filled with shadow creatures, and its people live in fear, struggling to thrive under Malakar's oppressive reign. This realm is marked by ancient prophecies and a looming sense of rebellion.</Description>
                                <KeyThemes>Fear, power, darkness, rebellion</KeyThemes>
                                <NotableResidents>Malakar, shadow creatures</NotableResidents>
                                <ChildLocations>
                                    <Location name="Malakar's Citadel">
                                        <location_id>01-01</location_id>
                                        <Description>The dark and foreboding fortress where Malakar rules Nythoria, filled with shadowy magic and heavily guarded by his loyal forces. It symbolizes his power and tyranny over the land.</Description>
                                        <KeyThemes>Power, darkness</KeyThemes>
                                        <NotableResidents>Malakar</NotableResidents>
                                    </Location>
                                </ChildLocations>
                            </Location>
                        </Locations>
                        <characters>
                            <character name="Anya">
                                <character_id>01</character_id>
                                <firstname>Anya</firstname>
                                <description>Anya is a scholar who becomes embroiled in the dark forces of the universe. Initially curious and compassionate, she eventually discovers her heritage as a descendant of an ancient vampire.</description>
                                <physical_traits>Anya is of average height with sharp features. As her vampiric heritage surfaces, her eyes sometimes glow a haunting red, and she exhibits an ethereal, dark beauty.</physical_traits>
                                <capacities_description>Anya has knowledge of ancient magic and can tap into powerful dark forces due to her vampiric lineage. Her abilities grow over time, making her a formidable force with dark magic.</capacities_description>
                                <backstory>Anya begins as an inquisitive scholar but learns of her vampiric heritage. After separating from Seraphina, she becomes involved in darker forces and betrays Kael. She is eventually trapped in an underworld sanctuary to prevent Nychtoros' return.</backstory>
                                <race>Human/Vampire hybrid</race>
                                <role>Scholar turned dark sorceress</role>
                            </character>
                        </characters>
                        <artifacts>
                            <artifact name="The Celestial Key">
                                <properties>Unlocks the secrets of the Celestial Gardens</properties>
                            </artifact>
                        </artifacts>
                    </Universe>`;
                    
                    const parser = new DOMParser();
                    this.xmlData = parser.parseFromString(xmlString, 'text/xml');
                    
                    if (this.xmlData.querySelector('parsererror')) {
                        throw new Error('XML parsing error');
                    }
                    
                    this.renderAllSections();
                    this.hideLoading();
                } catch (error) {
                    console.error('Error loading universe data:', error);
                    this.showError();
                }
            }

            renderAllSections() {
                this.renderAlbums();
                this.renderCharacters();
                this.renderLocations();
                this.renderArtifacts();
            }

            renderAlbums() {
                const albums = this.xmlData.querySelectorAll('album');
                
                if (albums.length === 0) {
                    this.containers.albums.innerHTML = '<p style="text-align: center; color: #b8b8b8;">No albums found.</p>';
                    return;
                }

                albums.forEach(album => {
                    const albumElement = this.createAlbumElement(album);
                    this.containers.albums.appendChild(albumElement);
                });
            }

            createAlbumElement(album) {
                const albumDiv = document.createElement('div');
                albumDiv.className = 'card';

                const title = album.getAttribute('album') || 'Unknown Album';
                const albumId = album.getAttribute('album_id') || '';
                const cover = title.charAt(0);

                const acts = album.querySelectorAll('Act');
                const actsHtml = Array.from(acts).map(act => this.createActElement(act)).join('');

                albumDiv.innerHTML = `
                    <div class="album-header">
                        <div class="album-cover">${cover}</div>
                        <div class="album-info">
                            <h2 class="card-title">${title}</h2>
                            <div class="card-subtitle">Album ID: ${albumId}</div>
                        </div>
                    </div>
                    <div class="acts-list">
                        ${actsHtml}
                    </div>
                `;

                return albumDiv;
            }

            createActElement(act) {
                const actTitle = act.getAttribute('act') || 'Unknown Act';
                const songs = act.querySelectorAll('Song');
                const songsHtml = Array.from(songs).map(song => this.createSongElement(song)).join('');

                return `
                    <div class="act-item">
                        <div class="act-header" onclick="toggleActSongs(this)">
                            <div class="act-title">${actTitle}</div>
                        </div>
                        <div class="songs-container">
                            ${songsHtml}
                        </div>
                    </div>
                `;
            }

            createSongElement(song) {
                const title = song.getAttribute('song') || 'Unknown Song';
                const songId = this.getTextContent(song.querySelector('song_id'));
                const tone = this.getTextContent(song.querySelector('Tone'));
                const plot = this.getTextContent(song.querySelector('Plot'));
                const lyrics = this.getTextContent(song.querySelector('Lyrics'));

                return `
                    <div class="song-item">
                        <div class="song-header" onclick="toggleSongDetails(this)">
                            <span class="song-title">${title}</span>
                            <span class="song-id">${songId}</span>
                        </div>
                        <div class="song-details">
                            ${tone ? `
                                <div class="detail-section">
                                    <div class="detail-title tone-title">Tone</div>
                                    <div class="detail-content">${tone}</div>
                                </div>
                            ` : ''}
                            ${plot ? `
                                <div class="detail-section">
                                    <div class="detail-title plot-title">Plot</div>
                                    <div class="detail-content">${plot}</div>
                                </div>
                            ` : ''}
                            ${lyrics ? `
                                <div class="detail-section">
                                    <div class="detail-title lyrics-title">Lyrics</div>
                                    <div class="detail-content">${lyrics}</div>
                                </div>
                            ` : ''}
                        </div>
                    </div>
                `;
            }

            renderCharacters() {
                const characters = this.xmlData.querySelectorAll('character');
                
                if (characters.length === 0) {
                    this.containers.characters.innerHTML = '<p style="text-align: center; color: #b8b8b8;">No characters found.</p>';
                    return;
                }

                characters.forEach(character => {
                    const characterElement = this.createCharacterElement(character);
                    this.containers.characters.appendChild(characterElement);
                });
            }

            createCharacterElement(character) {
                const characterDiv = document.createElement('div');
                characterDiv.className = 'card';

                const name = character.getAttribute('name') || 'Unknown Character';
                const characterId = this.getTextContent(character.querySelector('character_id'));
                const description = this.getTextContent(character.querySelector('description'));
                const physicalTraits = this.getTextContent(character.querySelector('physical_traits'));
                const capacities = this.getTextContent(character.querySelector('capacities_description'));
                const backstory = this.getTextContent(character.querySelector('backstory'));
                const race = this.getTextContent(character.querySelector('race'));
                const role = this.getTextContent(character.querySelector('role'));

                characterDiv.innerHTML = `
                    <h2 class="card-title">⚔️ ${name}</h2>
                    <div class="card-subtitle">Character ID: ${characterId}</div>
                    <div class="character-info">
                        ${description ? `
                            <div class="info-item">
                                <div class="info-label">Description</div>
                                <div class="info-content">${description}</div>
                            </div>
                        ` : ''}
                        ${race ? `
                            <div class="info-item">
                                <div class="info-label">Race</div>
                                <div class="info-content">${race}</div>
                            </div>
                        ` : ''}
                        ${role ? `
                            <div class="info-item">
                                <div class="info-label">Role</div>
                                <div class="info-content">${role}</div>
                            </div>
                        ` : ''}
                        ${physicalTraits ? `
                            <div class="info-item">
                                <div class="info-label">Physical Traits</div>
                                <div class="info-content">${physicalTraits}</div>
                            </div>
                        ` : ''}
                        ${capacities ? `
                            <div class="info-item">
                                <div class="info-label">Abilities</div>
                                <div class="info-content">${capacities}</div>
                            </div>
                        ` : ''}
                        ${backstory ? `
                            <div class="info-item">
                                <div class="info-label">Backstory</div>
                                <div class="info-content">${backstory}</div>
                            </div>
                        ` : ''}
                